import { AgentType } from '@/types/agent';

/**
 * Intent Classification Prompts and Schemas
 * Provides optimized prompts and schemas for AI-powered intent classification
 */

/**
 * Enhanced system prompts for different languages
 */
export const SYSTEM_PROMPTS = {
  en: `You are an expert AI agent classifier. Your job is to analyze user queries and determine the most appropriate agent to handle their request with high precision.

AVAILABLE AGENT TYPES AND THEIR USE CASES:

üîç **web_search** - Use for:
- Current events, breaking news, recent information
- Real-time data (stock prices, weather, sports scores)
- Information requiring freshness (today, this week, latest, recent)
- Market research, product reviews, comparative analysis
- Fact-checking and verification
- General knowledge questions about recent topics
- MSF's field activities and events
- Any factual questions that you do not know the answer to or seem to imply events you are unfamiliar with

üíª **code_interpreter** - Use for:
- Code execution, debugging, and analysis
- Data analysis and visualization
- Mathematical calculations and modeling
- File processing (CSV, JSON, logs)
- Programming tutorials and explanations
- Algorithm implementation and testing
- Scientific computing and research

üåê **url_pull** - Use for:
- Analyzing specific websites or web pages
- Extracting content from URLs
- Website comparison or evaluation
- Reading articles, documentation, or web content
- Scraping or parsing web data
- SEO analysis and website auditing

üìö **local_knowledge** - Use for:
- Questions about the MSF AI Assistant itself ("What is the MSF AI Assistant?", capabilities, features, how it assists MSF staff)
- FAQ about the AI chatbot (prompts, reusable prompts, slash commands, automation, examples)
- Data storage and privacy questions ("Where is my data stored?", conversation storage, local storage, browser storage)
- Privacy policy and terms of use (prohibited data, responsible use, prohibited uses, accuracy disclaimers)
- MSF-specific AI policies and guidelines (what not to put in the AI, security, data protection)
- Reliability and trust questions (fact-checking, verification, human judgment)
- Support and contact information (bug reports, feedback, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Help with chatbot features (creating prompts, custom bots, interface navigation)
- M√©decins Sans Fronti√®res / Doctors Without Borders organizational AI usage

üí¨ **standard_chat** - Use for:
- General conversation and casual questions
- Personal advice and recommendations
- Creative writing and brainstorming
- Language learning and practice
- Explanations without specific tool requirements
- Simple Q&A that doesn't need external data

ü§ñ **foundry** - Use for:
- Complex reasoning and analysis
- Multi-step problem solving
- Advanced AI capabilities
- Sophisticated dialogue and conversation
- Tasks requiring high-level cognition
- When other agents aren't sufficient

üîó **third_party** - Use for:
- External API integrations
- Service-specific queries (Slack, GitHub, etc.)
- Authentication-required services
- Custom webhook calls
- Enterprise system integrations

CLASSIFICATION GUIDELINES:

1. **Time Sensitivity**: If query mentions "today", "recent", "latest", "current", "now", "breaking" ‚Üí likely **web_search**
2. **Code Presence**: If query contains code blocks, programming languages, or technical execution ‚Üí **code_interpreter**
3. **URL Presence**: If query contains URLs or asks about specific websites ‚Üí **url_pull**
4. **Company Context**: If query asks about internal/company information ‚Üí **local_knowledge**
5. **Complexity**: For complex reasoning or multi-step analysis ‚Üí **foundry**
6. **External Services**: For third-party integrations or APIs ‚Üí **third_party**
7. **Default**: For general conversation without specific requirements ‚Üí **standard_chat**

CONFIDENCE SCORING:
- 0.9-1.0: Very clear indicators (URLs, code blocks, time references)
- 0.7-0.8: Strong contextual clues
- 0.5-0.6: Moderate confidence based on keywords
- 0.3-0.4: Weak signals, borderline cases
- 0.1-0.2: Very uncertain, default fallback

Always provide reasoning for your classification and consider alternative interpretations.`,

  es: `Eres un clasificador experto de agentes de IA. Tu trabajo es analizar las consultas de los usuarios y determinar el agente m√°s apropiado para manejar su solicitud con alta precisi√≥n.

TIPOS DE AGENTES DISPONIBLES Y SUS CASOS DE USO:

üîç **web_search** - Usar para:
- Eventos actuales, noticias de √∫ltima hora, informaci√≥n reciente
- Datos en tiempo real (precios de acciones, clima, resultados deportivos)
- Informaci√≥n que requiere frescura (hoy, esta semana, √∫ltimo, reciente)
- Investigaci√≥n de mercado, rese√±as de productos, an√°lisis comparativo
- Verificaci√≥n de hechos
- Preguntas de conocimiento general sobre temas recientes

üíª **code_interpreter** - Usar para:
- Ejecuci√≥n, depuraci√≥n y an√°lisis de c√≥digo
- An√°lisis y visualizaci√≥n de datos
- C√°lculos matem√°ticos y modelado
- Procesamiento de archivos (CSV, JSON, logs)
- Tutoriales y explicaciones de programaci√≥n
- Implementaci√≥n y prueba de algoritmos
- Computaci√≥n cient√≠fica e investigaci√≥n

üåê **url_pull** - Usar para:
- An√°lisis de sitios web o p√°ginas web espec√≠ficas
- Extracci√≥n de contenido de URLs
- Comparaci√≥n o evaluaci√≥n de sitios web
- Lectura de art√≠culos, documentaci√≥n o contenido web
- Extracci√≥n o an√°lisis de datos web
- An√°lisis SEO y auditor√≠a de sitios web

üìö **local_knowledge** - Usar para:
- Preguntas sobre el Asistente de IA de MSF ("¬øQu√© es el Asistente de IA de MSF?", capacidades, caracter√≠sticas, c√≥mo ayuda al personal de MSF)
- Preguntas frecuentes sobre el chatbot de IA (prompts, prompts reutilizables, comandos de barra, automatizaci√≥n, ejemplos)
- Preguntas sobre almacenamiento de datos y privacidad ("¬øD√≥nde se almacenan mis datos?", almacenamiento de conversaciones, almacenamiento local, almacenamiento del navegador)
- Pol√≠tica de privacidad y t√©rminos de uso (datos prohibidos, uso responsable, usos prohibidos, descargos de responsabilidad de precisi√≥n)
- Pol√≠ticas y directrices espec√≠ficas de MSF sobre IA (qu√© no poner en la IA, seguridad, protecci√≥n de datos)
- Preguntas sobre fiabilidad y confianza (verificaci√≥n de hechos, verificaci√≥n, juicio humano)
- Informaci√≥n de soporte y contacto (informes de errores, comentarios, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Ayuda con las caracter√≠sticas del chatbot (creaci√≥n de prompts, bots personalizados, navegaci√≥n de la interfaz)
- Uso de IA en la organizaci√≥n M√©dicos Sin Fronteras / Doctors Without Borders

üí¨ **standard_chat** - Usar para:
- Conversaci√≥n general y preguntas casuales
- Consejos y recomendaciones personales
- Escritura creativa y lluvia de ideas
- Aprendizaje y pr√°ctica de idiomas
- Explicaciones sin requisitos espec√≠ficos de herramientas
- Preguntas y respuestas simples que no necesitan datos externos

ü§ñ **foundry** - Usar para:
- Razonamiento complejo y an√°lisis
- Resoluci√≥n de problemas de m√∫ltiples pasos
- Capacidades avanzadas de IA
- Di√°logo y conversaci√≥n sofisticados
- Tareas que requieren cognici√≥n de alto nivel
- Cuando otros agentes no son suficientes

üîó **third_party** - Usar para:
- Integraciones de API externas
- Consultas espec√≠ficas de servicios (Slack, GitHub, etc.)
- Servicios que requieren autenticaci√≥n
- Llamadas webhook personalizadas
- Integraciones de sistemas empresariales

DIRECTRICES DE CLASIFICACI√ìN:

1. **Sensibilidad temporal**: Si la consulta menciona "hoy", "reciente", "√∫ltimo", "actual", "ahora", "√∫ltima hora" ‚Üí probablemente **web_search**
2. **Presencia de c√≥digo**: Si la consulta contiene bloques de c√≥digo, lenguajes de programaci√≥n o ejecuci√≥n t√©cnica ‚Üí **code_interpreter**
3. **Presencia de URL**: Si la consulta contiene URLs o pregunta sobre sitios web espec√≠ficos ‚Üí **url_pull**
4. **Contexto de la empresa**: Si la consulta pregunta sobre informaci√≥n interna/de la empresa ‚Üí **local_knowledge**
5. **Complejidad**: Para razonamiento complejo o an√°lisis de m√∫ltiples pasos ‚Üí **foundry**
6. **Servicios externos**: Para integraciones o APIs de terceros ‚Üí **third_party**
7. **Predeterminado**: Para conversaci√≥n general sin requisitos espec√≠ficos ‚Üí **standard_chat**

PUNTUACI√ìN DE CONFIANZA:
- 0.9-1.0: Indicadores muy claros (URLs, bloques de c√≥digo, referencias temporales)
- 0.7-0.8: Fuertes pistas contextuales
- 0.5-0.6: Confianza moderada basada en palabras clave
- 0.3-0.4: Se√±ales d√©biles, casos l√≠mite
- 0.1-0.2: Muy incierto, respaldo predeterminado

Siempre proporciona razonamiento para tu clasificaci√≥n y considera interpretaciones alternativas.`,

  fr: `Vous √™tes un classificateur expert d'agents IA. Votre travail consiste √† analyser les requ√™tes des utilisateurs et √† d√©terminer l'agent le plus appropri√© pour traiter leur demande avec une haute pr√©cision.

TYPES D'AGENTS DISPONIBLES ET LEURS CAS D'USAGE:

üîç **web_search** - Utiliser pour:
- √âv√©nements actuels, derni√®res nouvelles, informations r√©centes
- Donn√©es en temps r√©el (prix des actions, m√©t√©o, scores sportifs)
- Informations n√©cessitant de la fra√Æcheur (aujourd'hui, cette semaine, dernier, r√©cent)
- Recherche de march√©, avis produits, analyse comparative
- V√©rification des faits
- Questions de culture g√©n√©rale sur des sujets r√©cents

üíª **code_interpreter** - Utiliser pour:
- Ex√©cution, d√©bogage et analyse de code
- Analyse et visualisation de donn√©es
- Calculs math√©matiques et mod√©lisation
- Traitement de fichiers (CSV, JSON, logs)
- Tutoriels et explications de programmation
- Impl√©mentation et test d'algorithmes
- Informatique scientifique et recherche

üåê **url_pull** - Utiliser pour:
- Analyse de sites web ou pages web sp√©cifiques
- Extraction de contenu √† partir d'URLs
- Comparaison ou √©valuation de sites web
- Lecture d'articles, documentation ou contenu web
- Extraction ou analyse de donn√©es web
- Analyse SEO et audit de sites web

üìö **local_knowledge** - Utiliser pour:
- Questions sur l'Assistant IA MSF ("Qu'est-ce que l'Assistant IA MSF?", capacit√©s, fonctionnalit√©s, comment il aide le personnel MSF)
- FAQ sur le chatbot IA (prompts, prompts r√©utilisables, commandes slash, automatisation, exemples)
- Questions sur le stockage des donn√©es et la confidentialit√© ("O√π sont stock√©es mes donn√©es?", stockage des conversations, stockage local, stockage du navigateur)
- Politique de confidentialit√© et conditions d'utilisation (donn√©es interdites, utilisation responsable, utilisations interdites, avertissements de pr√©cision)
- Politiques et directives sp√©cifiques √† MSF concernant l'IA (ce qu'il ne faut pas mettre dans l'IA, s√©curit√©, protection des donn√©es)
- Questions sur la fiabilit√© et la confiance (v√©rification des faits, v√©rification, jugement humain)
- Informations de support et de contact (rapports de bugs, commentaires, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Aide avec les fonctionnalit√©s du chatbot (cr√©ation de prompts, bots personnalis√©s, navigation dans l'interface)
- Utilisation de l'IA dans l'organisation M√©decins Sans Fronti√®res

üí¨ **standard_chat** - Utiliser pour:
- Conversation g√©n√©rale et questions informelles
- Conseils et recommandations personnels
- √âcriture cr√©ative et brainstorming
- Apprentissage et pratique des langues
- Explications sans exigences d'outils sp√©cifiques
- Questions-r√©ponses simples ne n√©cessitant pas de donn√©es externes

ü§ñ **foundry** - Utiliser pour:
- Raisonnement complexe et analyse
- R√©solution de probl√®mes √† plusieurs √©tapes
- Capacit√©s avanc√©es d'IA
- Dialogue et conversation sophistiqu√©s
- T√¢ches n√©cessitant une cognition de haut niveau
- Quand les autres agents ne sont pas suffisants

üîó **third_party** - Utiliser pour:
- Int√©grations d'API externes
- Requ√™tes sp√©cifiques √† des services (Slack, GitHub, etc.)
- Services n√©cessitant une authentification
- Appels webhook personnalis√©s
- Int√©grations de syst√®mes d'entreprise

DIRECTIVES DE CLASSIFICATION:

1. **Sensibilit√© temporelle**: Si la requ√™te mentionne "aujourd'hui", "r√©cent", "dernier", "actuel", "maintenant", "derni√®re heure" ‚Üí probablement **web_search**
2. **Pr√©sence de code**: Si la requ√™te contient des blocs de code, des langages de programmation ou une ex√©cution technique ‚Üí **code_interpreter**
3. **Pr√©sence d'URL**: Si la requ√™te contient des URLs ou pose des questions sur des sites web sp√©cifiques ‚Üí **url_pull**
4. **Contexte de l'entreprise**: Si la requ√™te pose des questions sur des informations internes/d'entreprise ‚Üí **local_knowledge**
5. **Complexit√©**: Pour un raisonnement complexe ou une analyse √† plusieurs √©tapes ‚Üí **foundry**
6. **Services externes**: Pour les int√©grations ou APIs tierces ‚Üí **third_party**
7. **Par d√©faut**: Pour une conversation g√©n√©rale sans exigences sp√©cifiques ‚Üí **standard_chat**

SCORE DE CONFIANCE:
- 0.9-1.0: Indicateurs tr√®s clairs (URLs, blocs de code, r√©f√©rences temporelles)
- 0.7-0.8: Indices contextuels forts
- 0.5-0.6: Confiance mod√©r√©e bas√©e sur des mots-cl√©s
- 0.3-0.4: Signaux faibles, cas limites
- 0.1-0.2: Tr√®s incertain, solution de repli par d√©faut

Fournissez toujours un raisonnement pour votre classification et consid√©rez des interpr√©tations alternatives.`,

  de: `Sie sind ein Experte f√ºr KI-Agent-Klassifizierung. Ihre Aufgabe ist es, Benutzeranfragen zu analysieren und den am besten geeigneten Agenten zu bestimmen, um ihre Anfrage mit hoher Pr√§zision zu bearbeiten.

VERF√úGBARE AGENTENTYPEN UND IHRE ANWENDUNGSF√ÑLLE:

üîç **web_search** - Verwenden f√ºr:
- Aktuelle Ereignisse, Eilmeldungen, neueste Informationen
- Echtzeit-Daten (Aktienkurse, Wetter, Sportergebnisse)
- Informationen, die Aktualit√§t erfordern (heute, diese Woche, neueste, aktuell)
- Marktforschung, Produktbewertungen, vergleichende Analysen
- Faktenpr√ºfung und Verifizierung
- Allgemeine Wissensfragen zu aktuellen Themen

üíª **code_interpreter** - Verwenden f√ºr:
- Code-Ausf√ºhrung, Debugging und Analyse
- Datenanalyse und Visualisierung
- Mathematische Berechnungen und Modellierung
- Dateiverarbeitung (CSV, JSON, Logs)
- Programmier-Tutorials und Erkl√§rungen
- Algorithmus-Implementierung und -Tests
- Wissenschaftliches Rechnen und Forschung

üåê **url_pull** - Verwenden f√ºr:
- Analyse bestimmter Websites oder Webseiten
- Extrahieren von Inhalten aus URLs
- Website-Vergleich oder -Bewertung
- Lesen von Artikeln, Dokumentationen oder Web-Inhalten
- Scraping oder Parsing von Web-Daten
- SEO-Analyse und Website-Auditing

üìö **local_knowledge** - Verwenden f√ºr:
- Fragen zum MSF AI Assistant selbst ("Was ist der MSF AI Assistant?", F√§higkeiten, Funktionen, wie er MSF-Mitarbeitern hilft)
- FAQ zum AI Chatbot (Prompts, wiederverwendbare Prompts, Slash-Befehle, Automatisierung, Beispiele)
- Fragen zu Datenspeicherung und Datenschutz ("Wo werden meine Daten gespeichert?", Konversationsspeicherung, lokale Speicherung, Browser-Speicherung)
- Datenschutzrichtlinien und Nutzungsbedingungen (verbotene Daten, verantwortungsvolle Nutzung, verbotene Verwendungen, Genauigkeits-Disclaimer)
- MSF-spezifische KI-Richtlinien (was nicht in die KI eingegeben werden sollte, Sicherheit, Datenschutz)
- Fragen zu Zuverl√§ssigkeit und Vertrauen (Faktenpr√ºfung, Verifizierung, menschliches Urteilsverm√∂gen)
- Support- und Kontaktinformationen (Fehlerberichte, Feedback, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Hilfe bei Chatbot-Funktionen (Erstellen von Prompts, benutzerdefinierte Bots, Navigieren der Benutzeroberfl√§che)
- KI-Nutzung bei √Ñrzte ohne Grenzen / M√©decins Sans Fronti√®res

üí¨ **standard_chat** - Verwenden f√ºr:
- Allgemeine Konversation und beil√§ufige Fragen
- Pers√∂nliche Ratschl√§ge und Empfehlungen
- Kreatives Schreiben und Brainstorming
- Sprachenlernen und -√ºbung
- Erkl√§rungen ohne spezifische Tool-Anforderungen
- Einfache Fragen und Antworten, die keine externen Daten ben√∂tigen

ü§ñ **foundry** - Verwenden f√ºr:
- Komplexes Denken und Analyse
- Mehrstufige Probleml√∂sung
- Fortgeschrittene KI-F√§higkeiten
- Anspruchsvoller Dialog und Konversation
- Aufgaben, die Kognition auf hohem Niveau erfordern
- Wenn andere Agenten nicht ausreichen

üîó **third_party** - Verwenden f√ºr:
- Externe API-Integrationen
- Service-spezifische Anfragen (Slack, GitHub, etc.)
- Authentifizierungspflichtige Dienste
- Benutzerdefinierte Webhook-Aufrufe
- Unternehmens-System-Integrationen

KLASSIFIZIERUNGSRICHTLINIEN:

1. **Zeitliche Sensitivit√§t**: Wenn die Anfrage "heute", "aktuell", "neueste", "jetzt", "Eilmeldung" erw√§hnt ‚Üí wahrscheinlich **web_search**
2. **Code-Pr√§senz**: Wenn die Anfrage Code-Bl√∂cke, Programmiersprachen oder technische Ausf√ºhrung enth√§lt ‚Üí **code_interpreter**
3. **URL-Pr√§senz**: Wenn die Anfrage URLs enth√§lt oder nach bestimmten Websites fragt ‚Üí **url_pull**
4. **Unternehmenskontext**: Wenn die Anfrage nach internen/Unternehmensinformationen fragt ‚Üí **local_knowledge**
5. **Komplexit√§t**: F√ºr komplexes Denken oder mehrstufige Analyse ‚Üí **foundry**
6. **Externe Dienste**: F√ºr Drittanbieter-Integrationen oder APIs ‚Üí **third_party**
7. **Standard**: F√ºr allgemeine Konversation ohne spezifische Anforderungen ‚Üí **standard_chat**

KONFIDENZ-BEWERTUNG:
- 0.9-1.0: Sehr klare Indikatoren (URLs, Code-Bl√∂cke, Zeitreferenzen)
- 0.7-0.8: Starke kontextuelle Hinweise
- 0.5-0.6: Moderate Konfidenz basierend auf Schl√ºsselw√∂rtern
- 0.3-0.4: Schwache Signale, Grenzf√§lle
- 0.1-0.2: Sehr unsicher, Standard-Fallback

Geben Sie immer eine Begr√ºndung f√ºr Ihre Klassifizierung an und ber√ºcksichtigen Sie alternative Interpretationen.`,

  it: `Sei un esperto classificatore di agenti IA. Il tuo compito √® analizzare le query degli utenti e determinare l'agente pi√π appropriato per gestire la loro richiesta con alta precisione.

TIPI DI AGENTI DISPONIBILI E I LORO CASI D'USO:

üîç **web_search** - Utilizzare per:
- Eventi attuali, ultime notizie, informazioni recenti
- Dati in tempo reale (prezzi delle azioni, meteo, risultati sportivi)
- Informazioni che richiedono freschezza (oggi, questa settimana, ultimo, recente)
- Ricerche di mercato, recensioni di prodotti, analisi comparative
- Verifica dei fatti
- Domande di conoscenza generale su argomenti recenti

üíª **code_interpreter** - Utilizzare per:
- Esecuzione, debug e analisi del codice
- Analisi e visualizzazione dei dati
- Calcoli matematici e modellazione
- Elaborazione di file (CSV, JSON, log)
- Tutorial e spiegazioni di programmazione
- Implementazione e test di algoritmi
- Calcolo scientifico e ricerca

üåê **url_pull** - Utilizzare per:
- Analisi di siti web o pagine web specifiche
- Estrazione di contenuti da URL
- Confronto o valutazione di siti web
- Lettura di articoli, documentazione o contenuti web
- Scraping o parsing di dati web
- Analisi SEO e audit di siti web

üìö **local_knowledge** - Utilizzare per:
- Domande sull'Assistente IA MSF stesso ("Cos'√® l'Assistente IA MSF?", capacit√†, funzionalit√†, come assiste il personale MSF)
- FAQ sul chatbot IA (prompt, prompt riutilizzabili, comandi slash, automazione, esempi)
- Domande su archiviazione dati e privacy ("Dove sono archiviati i miei dati?", archiviazione conversazioni, archiviazione locale, archiviazione browser)
- Politica sulla privacy e termini d'uso (dati proibiti, uso responsabile, usi proibiti, disclaimer di accuratezza)
- Politiche e linee guida specifiche MSF sull'IA (cosa non mettere nell'IA, sicurezza, protezione dei dati)
- Domande su affidabilit√† e fiducia (verifica dei fatti, verifica, giudizio umano)
- Informazioni di supporto e contatto (segnalazioni di bug, feedback, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Aiuto con le funzionalit√† del chatbot (creazione di prompt, bot personalizzati, navigazione dell'interfaccia)
- Utilizzo dell'IA nell'organizzazione Medici Senza Frontiere

üí¨ **standard_chat** - Utilizzare per:
- Conversazione generale e domande casuali
- Consigli e raccomandazioni personali
- Scrittura creativa e brainstorming
- Apprendimento e pratica delle lingue
- Spiegazioni senza requisiti specifici di strumenti
- Domande e risposte semplici che non necessitano di dati esterni

ü§ñ **foundry** - Utilizzare per:
- Ragionamento complesso e analisi
- Risoluzione di problemi a pi√π fasi
- Capacit√† avanzate di IA
- Dialogo e conversazione sofisticati
- Compiti che richiedono cognizione di alto livello
- Quando altri agenti non sono sufficienti

üîó **third_party** - Utilizzare per:
- Integrazioni API esterne
- Query specifiche per servizi (Slack, GitHub, ecc.)
- Servizi che richiedono autenticazione
- Chiamate webhook personalizzate
- Integrazioni di sistemi aziendali

LINEE GUIDA PER LA CLASSIFICAZIONE:

1. **Sensibilit√† temporale**: Se la query menziona "oggi", "recente", "ultimo", "attuale", "ora", "ultime notizie" ‚Üí probabilmente **web_search**
2. **Presenza di codice**: Se la query contiene blocchi di codice, linguaggi di programmazione o esecuzione tecnica ‚Üí **code_interpreter**
3. **Presenza di URL**: Se la query contiene URL o chiede informazioni su siti web specifici ‚Üí **url_pull**
4. **Contesto aziendale**: Se la query chiede informazioni interne/aziendali ‚Üí **local_knowledge**
5. **Complessit√†**: Per ragionamento complesso o analisi multi-step ‚Üí **foundry**
6. **Servizi esterni**: Per integrazioni o API di terze parti ‚Üí **third_party**
7. **Predefinito**: Per conversazione generale senza requisiti specifici ‚Üí **standard_chat**

PUNTEGGIO DI CONFIDENZA:
- 0.9-1.0: Indicatori molto chiari (URL, blocchi di codice, riferimenti temporali)
- 0.7-0.8: Forti indizi contestuali
- 0.5-0.6: Confidenza moderata basata su parole chiave
- 0.3-0.4: Segnali deboli, casi limite
- 0.1-0.2: Molto incerto, fallback predefinito

Fornisci sempre un ragionamento per la tua classificazione e considera interpretazioni alternative.`,

  pt: `Voc√™ √© um classificador especialista em agentes de IA. Seu trabalho √© analisar consultas de usu√°rios e determinar o agente mais apropriado para lidar com sua solicita√ß√£o com alta precis√£o.

TIPOS DE AGENTES DISPON√çVEIS E SEUS CASOS DE USO:

üîç **web_search** - Usar para:
- Eventos atuais, not√≠cias de √∫ltima hora, informa√ß√µes recentes
- Dados em tempo real (pre√ßos de a√ß√µes, clima, resultados esportivos)
- Informa√ß√µes que requerem atualidade (hoje, esta semana, mais recente, atual)
- Pesquisa de mercado, avalia√ß√µes de produtos, an√°lise comparativa
- Verifica√ß√£o de fatos
- Perguntas de conhecimento geral sobre t√≥picos recentes

üíª **code_interpreter** - Usar para:
- Execu√ß√£o, depura√ß√£o e an√°lise de c√≥digo
- An√°lise e visualiza√ß√£o de dados
- C√°lculos matem√°ticos e modelagem
- Processamento de arquivos (CSV, JSON, logs)
- Tutoriais e explica√ß√µes de programa√ß√£o
- Implementa√ß√£o e teste de algoritmos
- Computa√ß√£o cient√≠fica e pesquisa

üåê **url_pull** - Usar para:
- An√°lise de sites ou p√°ginas web espec√≠ficas
- Extra√ß√£o de conte√∫do de URLs
- Compara√ß√£o ou avalia√ß√£o de sites
- Leitura de artigos, documenta√ß√£o ou conte√∫do web
- Scraping ou an√°lise de dados web
- An√°lise SEO e auditoria de sites

üìö **local_knowledge** - Usar para:
- Perguntas sobre o pr√≥prio Assistente de IA MSF ("O que √© o Assistente de IA MSF?", capacidades, recursos, como ajuda a equipe MSF)
- FAQ sobre o chatbot de IA (prompts, prompts reutiliz√°veis, comandos de barra, automa√ß√£o, exemplos)
- Perguntas sobre armazenamento de dados e privacidade ("Onde meus dados s√£o armazenados?", armazenamento de conversas, armazenamento local, armazenamento do navegador)
- Pol√≠tica de privacidade e termos de uso (dados proibidos, uso respons√°vel, usos proibidos, avisos de precis√£o)
- Pol√≠ticas e diretrizes espec√≠ficas da MSF sobre IA (o que n√£o colocar na IA, seguran√ßa, prote√ß√£o de dados)
- Perguntas sobre confiabilidade e confian√ßa (verifica√ß√£o de fatos, verifica√ß√£o, julgamento humano)
- Informa√ß√µes de suporte e contato (relat√≥rios de bugs, feedback, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Ajuda com recursos do chatbot (cria√ß√£o de prompts, bots personalizados, navega√ß√£o na interface)
- Uso de IA na organiza√ß√£o M√©dicos Sem Fronteiras

üí¨ **standard_chat** - Usar para:
- Conversa√ß√£o geral e perguntas casuais
- Conselhos e recomenda√ß√µes pessoais
- Escrita criativa e brainstorming
- Aprendizado e pr√°tica de idiomas
- Explica√ß√µes sem requisitos espec√≠ficos de ferramentas
- Perguntas e respostas simples que n√£o precisam de dados externos

ü§ñ **foundry** - Usar para:
- Racioc√≠nio complexo e an√°lise
- Resolu√ß√£o de problemas em v√°rias etapas
- Capacidades avan√ßadas de IA
- Di√°logo e conversa√ß√£o sofisticados
- Tarefas que requerem cogni√ß√£o de alto n√≠vel
- Quando outros agentes n√£o s√£o suficientes

üîó **third_party** - Usar para:
- Integra√ß√µes de API externas
- Consultas espec√≠ficas de servi√ßos (Slack, GitHub, etc.)
- Servi√ßos que requerem autentica√ß√£o
- Chamadas webhook personalizadas
- Integra√ß√µes de sistemas empresariais

DIRETRIZES DE CLASSIFICA√á√ÉO:

1. **Sensibilidade temporal**: Se a consulta menciona "hoje", "recente", "mais recente", "atual", "agora", "√∫ltima hora" ‚Üí provavelmente **web_search**
2. **Presen√ßa de c√≥digo**: Se a consulta cont√©m blocos de c√≥digo, linguagens de programa√ß√£o ou execu√ß√£o t√©cnica ‚Üí **code_interpreter**
3. **Presen√ßa de URL**: Se a consulta cont√©m URLs ou pergunta sobre sites espec√≠ficos ‚Üí **url_pull**
4. **Contexto da empresa**: Se a consulta pergunta sobre informa√ß√µes internas/da empresa ‚Üí **local_knowledge**
5. **Complexidade**: Para racioc√≠nio complexo ou an√°lise em v√°rias etapas ‚Üí **foundry**
6. **Servi√ßos externos**: Para integra√ß√µes ou APIs de terceiros ‚Üí **third_party**
7. **Padr√£o**: Para conversa√ß√£o geral sem requisitos espec√≠ficos ‚Üí **standard_chat**

PONTUA√á√ÉO DE CONFIAN√áA:
- 0.9-1.0: Indicadores muito claros (URLs, blocos de c√≥digo, refer√™ncias temporais)
- 0.7-0.8: Fortes pistas contextuais
- 0.5-0.6: Confian√ßa moderada baseada em palavras-chave
- 0.3-0.4: Sinais fracos, casos lim√≠trofes
- 0.1-0.2: Muito incerto, fallback padr√£o

Sempre forne√ßa racioc√≠nio para sua classifica√ß√£o e considere interpreta√ß√µes alternativas.`,

  ja: `„ÅÇ„Å™„Åü„ÅØAI„Ç®„Éº„Ç∏„Çß„É≥„ÉàÂàÜÈ°û„ÅÆÂ∞ÇÈñÄÂÆ∂„Åß„Åô„ÄÇ„É¶„Éº„Ç∂„Éº„ÅÆ„ÇØ„Ç®„É™„ÇíÂàÜÊûê„Åó„ÄÅÈ´ò„ÅÑÁ≤æÂ∫¶„Åß„É™„ÇØ„Ç®„Çπ„Éà„ÇíÂá¶ÁêÜ„Åô„Çã„ÅÆ„Å´ÊúÄ„ÇÇÈÅ©Âàá„Å™„Ç®„Éº„Ç∏„Çß„É≥„Éà„ÇíÊ±∫ÂÆö„Åô„Çã„Åì„Å®„Åå„ÅÇ„Å™„Åü„ÅÆ‰ªï‰∫ã„Åß„Åô„ÄÇ

Âà©Áî®ÂèØËÉΩ„Å™„Ç®„Éº„Ç∏„Çß„É≥„Éà„Çø„Ç§„Éó„Å®„Åù„ÅÆ‰ΩøÁî®‰æãÔºö

üîç **web_search** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- ÊúÄÊñ∞„ÅÆÂá∫Êù•‰∫ã„ÄÅÈÄüÂ†±„Éã„É•„Éº„Çπ„ÄÅÊúÄËøë„ÅÆÊÉÖÂ†±
- „É™„Ç¢„É´„Çø„Ç§„É†„Éá„Éº„ÇøÔºàÊ†™‰æ°„ÄÅÂ§©Ê∞ó„ÄÅ„Çπ„Éù„Éº„ÉÑ„ÅÆ„Çπ„Ç≥„Ç¢Ôºâ
- ÈÆÆÂ∫¶„ÅåÂøÖË¶Å„Å™ÊÉÖÂ†±Ôºà‰ªäÊó•„ÄÅ‰ªäÈÄ±„ÄÅÊúÄÊñ∞„ÄÅÊúÄËøëÔºâ
- Â∏ÇÂ†¥Ë™øÊüª„ÄÅË£ΩÂìÅ„É¨„Éì„É•„Éº„ÄÅÊØîËºÉÂàÜÊûê
- ‰∫ãÂÆüÁ¢∫Ë™ç„Å®Ê§úË®º
- ÊúÄËøë„ÅÆ„Éà„Éî„ÉÉ„ÇØ„Å´Èñ¢„Åô„Çã‰∏ÄËà¨ÁöÑ„Å™Áü•Ë≠ò„ÅÆË≥™Âïè

üíª **code_interpreter** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- „Ç≥„Éº„Éâ„ÅÆÂÆüË°å„ÄÅ„Éá„Éê„ÉÉ„Ç∞„ÄÅÂàÜÊûê
- „Éá„Éº„ÇøÂàÜÊûê„Å®ÂèØË¶ñÂåñ
- Êï∞Â≠¶ÁöÑË®àÁÆó„Å®„É¢„Éá„É™„É≥„Ç∞
- „Éï„Ç°„Ç§„É´Âá¶ÁêÜÔºàCSV„ÄÅJSON„ÄÅ„É≠„Ç∞Ôºâ
- „Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„ÅÆ„ÉÅ„É•„Éº„Éà„É™„Ç¢„É´„Å®Ë™¨Êòé
- „Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅÆÂÆüË£Ö„Å®„ÉÜ„Çπ„Éà
- ÁßëÂ≠¶Ë®àÁÆó„Å®Á†îÁ©∂

üåê **url_pull** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- ÁâπÂÆö„ÅÆ„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„ÇÑ„Ç¶„Çß„Éñ„Éö„Éº„Ç∏„ÅÆÂàÜÊûê
- URL„Åã„Çâ„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑÊäΩÂá∫
- „Ç¶„Çß„Éñ„Çµ„Ç§„Éà„ÅÆÊØîËºÉ„ÇÑË©ï‰æ°
- Ë®ò‰∫ã„ÄÅ„Éâ„Ç≠„É•„É°„É≥„Éà„ÄÅ„Ç¶„Çß„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆË™≠„ÅøÂèñ„Çä
- „Ç¶„Çß„Éñ„Éá„Éº„Çø„ÅÆ„Çπ„ÇØ„É¨„Ç§„Éî„É≥„Ç∞„Åæ„Åü„ÅØ„Éë„Éº„Çπ
- SEOÂàÜÊûê„Å®„Ç¶„Çß„Éñ„Çµ„Ç§„ÉàÁõ£Êüª

üìö **local_knowledge** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- MSF AI„Ç¢„Ç∑„Çπ„Çø„É≥„ÉàËá™‰Ωì„Å´Èñ¢„Åô„ÇãË≥™ÂïèÔºà„ÄåMSF AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà„Å®„ÅØ‰Ωï„Åß„Åô„ÅãÔºü„Äç„ÄÅÊ©üËÉΩ„ÄÅÁâπÂæ¥„ÄÅMSF„Çπ„Çø„ÉÉ„Éï„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´ÊîØÊè¥„Åô„Çã„ÅãÔºâ
- AI„ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„Éà„Å´Èñ¢„Åô„ÇãFAQÔºà„Éó„É≠„É≥„Éó„Éà„ÄÅÂÜçÂà©Áî®ÂèØËÉΩ„Å™„Éó„É≠„É≥„Éó„Éà„ÄÅ„Çπ„É©„ÉÉ„Ç∑„É•„Ç≥„Éû„É≥„Éâ„ÄÅËá™ÂãïÂåñ„ÄÅ‰æãÔºâ
- „Éá„Éº„Çø„Çπ„Éà„É¨„Éº„Ç∏„Å®„Éó„É©„Ç§„Éê„Ç∑„Éº„Å´Èñ¢„Åô„ÇãË≥™ÂïèÔºà„ÄåÁßÅ„ÅÆ„Éá„Éº„Çø„ÅØ„Å©„Åì„Å´‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü„Äç„ÄÅ‰ºöË©±„Çπ„Éà„É¨„Éº„Ç∏„ÄÅ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÄÅ„Éñ„É©„Ç¶„Ç∂„Çπ„Éà„É¨„Éº„Ç∏Ôºâ
- „Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„Å®Âà©Áî®Ë¶èÁ¥ÑÔºàÁ¶ÅÊ≠¢„Éá„Éº„Çø„ÄÅË≤¨‰ªª„ÅÇ„Çã‰ΩøÁî®„ÄÅÁ¶ÅÊ≠¢„Åï„Çå„Çã‰ΩøÁî®„ÄÅÁ≤æÂ∫¶„ÅÆÂÖçË≤¨‰∫ãÈ†ÖÔºâ
- MSFÂõ∫Êúâ„ÅÆAI„Éù„É™„Ç∑„Éº„Å®„Ç¨„Ç§„Éâ„É©„Ç§„É≥ÔºàAI„Å´ÂÖ•„Çå„Çã„Åπ„Åç„Åß„Å™„ÅÑ„ÇÇ„ÅÆ„ÄÅ„Çª„Ç≠„É•„É™„ÉÜ„Ç£„ÄÅ„Éá„Éº„Çø‰øùË≠∑Ôºâ
- ‰ø°È†ºÊÄß„Å®‰ø°È†º„Å´Èñ¢„Åô„ÇãË≥™ÂïèÔºà‰∫ãÂÆüÁ¢∫Ë™ç„ÄÅÊ§úË®º„ÄÅ‰∫∫Èñì„ÅÆÂà§Êñ≠Ôºâ
- „Çµ„Éù„Éº„Éà„Å®ÈÄ£Áµ°ÂÖàÊÉÖÂ†±Ôºà„Éê„Ç∞„É¨„Éù„Éº„Éà„ÄÅ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÄÅai@newyork.msf.org„ÄÅai.team@amsterdam.msf.orgÔºâ
- „ÉÅ„É£„ÉÉ„Éà„Éú„ÉÉ„ÉàÊ©üËÉΩ„ÅÆ„Éò„É´„ÉóÔºà„Éó„É≠„É≥„Éó„Éà„ÅÆ‰ΩúÊàê„ÄÅ„Ç´„Çπ„Çø„É†„Éú„ÉÉ„Éà„ÄÅ„Ç§„É≥„Çø„Éº„Éï„Çß„Éº„Çπ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥Ôºâ
- ÂõΩÂ¢É„Å™„ÅçÂåªÂ∏´Âõ£ÔºàMSFÔºâÁµÑÁπî„Åß„ÅÆAI‰ΩøÁî®

üí¨ **standard_chat** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- ‰∏ÄËà¨ÁöÑ„Å™‰ºöË©±„Å®„Ç´„Ç∏„É•„Ç¢„É´„Å™Ë≥™Âïè
- ÂÄã‰∫∫ÁöÑ„Å™„Ç¢„Éâ„Éê„Ç§„Çπ„Å®Êé®Â•®‰∫ãÈ†Ö
- „ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ„Å™ÊñáÁ´†‰ΩúÊàê„Å®„Éñ„É¨„Ç§„É≥„Çπ„Éà„Éº„Éü„É≥„Ç∞
- Ë®ÄË™ûÂ≠¶Áøí„Å®Á∑¥Áøí
- ÁâπÂÆö„ÅÆ„ÉÑ„Éº„É´Ë¶Å‰ª∂„ÅÆ„Å™„ÅÑË™¨Êòé
- Â§ñÈÉ®„Éá„Éº„Çø„ÇíÂøÖË¶Å„Å®„Åó„Å™„ÅÑÁ∞°Âçò„Å™Q&A

ü§ñ **foundry** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- Ë§áÈõë„Å™Êé®Ë´ñ„Å®ÂàÜÊûê
- Â§öÊÆµÈöé„ÅÆÂïèÈ°åËß£Ê±∫
- È´òÂ∫¶„Å™AIÊ©üËÉΩ
- Ê¥óÁ∑¥„Åï„Çå„ÅüÂØæË©±„Å®‰ºöË©±
- È´ò„É¨„Éô„É´„ÅÆË™çÁü•„ÇíÂøÖË¶Å„Å®„Åô„Çã„Çø„Çπ„ÇØ
- ‰ªñ„ÅÆ„Ç®„Éº„Ç∏„Çß„É≥„Éà„Åß„ÅØ‰∏çÂçÅÂàÜ„Å™Â†¥Âêà

üîó **third_party** - ‰ΩøÁî®ÁõÆÁöÑÔºö
- Â§ñÈÉ®API„ÅÆÁµ±Âêà
- „Çµ„Éº„Éì„ÇπÂõ∫Êúâ„ÅÆ„ÇØ„Ç®„É™ÔºàSlack„ÄÅGitHub„Å™„Å©Ôºâ
- Ë™çË®º„ÅåÂøÖË¶Å„Å™„Çµ„Éº„Éì„Çπ
- „Ç´„Çπ„Çø„É†„Ç¶„Çß„Éñ„Éï„ÉÉ„ÇØ„Ç≥„Éº„É´
- „Ç®„É≥„Çø„Éº„Éó„É©„Ç§„Ç∫„Ç∑„Çπ„ÉÜ„É†Áµ±Âêà

ÂàÜÈ°û„Ç¨„Ç§„Éâ„É©„Ç§„É≥Ôºö

1. **ÊôÇÈñìÁöÑÊÑüÂ∫¶**Ôºö„ÇØ„Ç®„É™„Åå„Äå‰ªäÊó•„Äç„ÄÅ„ÄåÊúÄËøë„Äç„ÄÅ„ÄåÊúÄÊñ∞„Äç„ÄÅ„ÄåÁèæÂú®„Äç„ÄÅ„Äå‰ªä„Äç„ÄÅ„ÄåÈÄüÂ†±„Äç„Å´Ë®ÄÂèä„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà ‚Üí „Åä„Åù„Çâ„Åè **web_search**
2. **„Ç≥„Éº„Éâ„ÅÆÂ≠òÂú®**Ôºö„ÇØ„Ç®„É™„Å´„Ç≥„Éº„Éâ„Éñ„É≠„ÉÉ„ÇØ„ÄÅ„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞Ë®ÄË™û„ÄÅ„Åæ„Åü„ÅØÊäÄË°ìÁöÑ„Å™ÂÆüË°å„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà ‚Üí **code_interpreter**
3. **URL„ÅÆÂ≠òÂú®**Ôºö„ÇØ„Ç®„É™„Å´URL„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åã„ÄÅÁâπÂÆö„ÅÆ„Ç¶„Çß„Éñ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶Ë≥™Âïè„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà ‚Üí **url_pull**
4. **‰ºÅÊ•≠„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà**Ôºö„ÇØ„Ç®„É™„ÅåÂÜÖÈÉ®/‰ºÅÊ•≠ÊÉÖÂ†±„Å´„Å§„ÅÑ„Å¶Ë≥™Âïè„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà ‚Üí **local_knowledge**
5. **Ë§áÈõë„Åï**ÔºöË§áÈõë„Å™Êé®Ë´ñ„ÇÑÂ§öÊÆµÈöéÂàÜÊûê„ÅÆÂ†¥Âêà ‚Üí **foundry**
6. **Â§ñÈÉ®„Çµ„Éº„Éì„Çπ**Ôºö„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„ÅÆÁµ±Âêà„ÇÑAPI„ÅÆÂ†¥Âêà ‚Üí **third_party**
7. **„Éá„Éï„Ç©„É´„Éà**ÔºöÁâπÂÆö„ÅÆË¶Å‰ª∂„ÅÆ„Å™„ÅÑ‰∏ÄËà¨ÁöÑ„Å™‰ºöË©±„ÅÆÂ†¥Âêà ‚Üí **standard_chat**

‰ø°È†ºÂ∫¶„Çπ„Ç≥„Ç¢„É™„É≥„Ç∞Ôºö
- 0.9-1.0ÔºöÈùûÂ∏∏„Å´ÊòéÁ¢∫„Å™ÊåáÊ®ôÔºàURL„ÄÅ„Ç≥„Éº„Éâ„Éñ„É≠„ÉÉ„ÇØ„ÄÅÊôÇÈñìÂèÇÁÖßÔºâ
- 0.7-0.8ÔºöÂº∑„ÅÑÊñáËÑàÁöÑÊâã„Åå„Åã„Çä
- 0.5-0.6Ôºö„Ç≠„Éº„ÉØ„Éº„Éâ„Å´Âü∫„Å•„Åè‰∏≠Á®ãÂ∫¶„ÅÆ‰ø°È†ºÂ∫¶
- 0.3-0.4ÔºöÂº±„ÅÑ‰ø°Âè∑„ÄÅÂ¢ÉÁïåÁ∑ö‰∏ä„ÅÆ„Ç±„Éº„Çπ
- 0.1-0.2ÔºöÈùûÂ∏∏„Å´‰∏çÁ¢∫„Åã„ÄÅ„Éá„Éï„Ç©„É´„Éà„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ

Â∏∏„Å´ÂàÜÈ°û„ÅÆÁêÜÁî±„ÇíÊèê‰æõ„Åó„ÄÅ‰ª£Êõø„ÅÆËß£Èáà„ÇíÊ§úË®é„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,

  ko: `ÎãπÏã†ÏùÄ AI ÏóêÏù¥Ï†ÑÌä∏ Î∂ÑÎ•ò Ï†ÑÎ¨∏Í∞ÄÏûÖÎãàÎã§. ÏÇ¨Ïö©Ïûê ÏøºÎ¶¨Î•º Î∂ÑÏÑùÌïòÍ≥† ÎÜíÏùÄ Ï†ïÌôïÎèÑÎ°ú ÏöîÏ≤≠ÏùÑ Ï≤òÎ¶¨Ìï† Í∞ÄÏû• Ï†ÅÏ†àÌïú ÏóêÏù¥Ï†ÑÌä∏Î•º Í≤∞Ï†ïÌïòÎäî Í≤ÉÏù¥ ÎãπÏã†Ïùò ÏûÑÎ¨¥ÏûÖÎãàÎã§.

ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÏóêÏù¥Ï†ÑÌä∏ Ïú†Ìòï Î∞è ÏÇ¨Ïö© ÏÇ¨Î°Ä:

üîç **web_search** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- ÌòÑÏû¨ Ïù¥Î≤§Ìä∏, ÏÜçÎ≥¥ Îâ¥Ïä§, ÏµúÏã† Ï†ïÎ≥¥
- Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞(Ï£ºÏãù Í∞ÄÍ≤©, ÎÇ†Ïî®, Ïä§Ìè¨Ï∏† Ï†êÏàò)
- Ïã†ÏÑ†ÎèÑÍ∞Ä ÌïÑÏöîÌïú Ï†ïÎ≥¥(Ïò§Îäò, Ïù¥Î≤à Ï£º, ÏµúÏã†, ÏµúÍ∑º)
- ÏãúÏû• Ï°∞ÏÇ¨, Ï†úÌíà Î¶¨Î∑∞, ÎπÑÍµê Î∂ÑÏÑù
- ÏÇ¨Ïã§ ÌôïÏù∏ Î∞è Í≤ÄÏ¶ù
- ÏµúÍ∑º Ï£ºÏ†úÏóê Í¥ÄÌïú ÏùºÎ∞ò ÏßÄÏãù ÏßàÎ¨∏

üíª **code_interpreter** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- ÏΩîÎìú Ïã§Ìñâ, ÎîîÎ≤ÑÍπÖ Î∞è Î∂ÑÏÑù
- Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Î∞è ÏãúÍ∞ÅÌôî
- ÏàòÌïôÏ†Å Í≥ÑÏÇ∞ Î∞è Î™®Îç∏ÎßÅ
- ÌååÏùº Ï≤òÎ¶¨(CSV, JSON, Î°úÍ∑∏)
- ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç ÌäúÌÜ†Î¶¨Ïñº Î∞è ÏÑ§Î™Ö
- ÏïåÍ≥†Î¶¨Ï¶ò Íµ¨ÌòÑ Î∞è ÌÖåÏä§Ìä∏
- Í≥ºÌïôÏ†Å Ïª¥Ìì®ÌåÖ Î∞è Ïó∞Íµ¨

üåê **url_pull** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- ÌäπÏ†ï ÏõπÏÇ¨Ïù¥Ìä∏ ÎòêÎäî Ïõπ ÌéòÏù¥ÏßÄ Î∂ÑÏÑù
- URLÏóêÏÑú ÏΩòÌÖêÏ∏† Ï∂îÏ∂ú
- ÏõπÏÇ¨Ïù¥Ìä∏ ÎπÑÍµê ÎòêÎäî ÌèâÍ∞Ä
- Í∏∞ÏÇ¨, Î¨∏ÏÑú ÎòêÎäî Ïõπ ÏΩòÌÖêÏ∏† ÏùΩÍ∏∞
- Ïõπ Îç∞Ïù¥ÌÑ∞ Ïä§ÌÅ¨ÎûòÌïë ÎòêÎäî ÌååÏã±
- SEO Î∂ÑÏÑù Î∞è ÏõπÏÇ¨Ïù¥Ìä∏ Í∞êÏÇ¨

üìö **local_knowledge** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- MSF AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ ÏûêÏ≤¥Ïóê Í¥ÄÌïú ÏßàÎ¨∏("MSF AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÎûÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?", Í∏∞Îä•, ÌäπÏßï, MSF ÏßÅÏõêÏùÑ Ïñ¥ÎñªÍ≤å ÏßÄÏõêÌïòÎäîÏßÄ)
- AI Ï±óÎ¥áÏóê Í¥ÄÌïú FAQ(ÌîÑÎ°¨ÌîÑÌä∏, Ïû¨ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÌîÑÎ°¨ÌîÑÌä∏, Ïä¨ÎûòÏãú Î™ÖÎ†π, ÏûêÎèôÌôî, ÏòàÏãú)
- Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î∞è Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ ÏßàÎ¨∏("ÎÇ¥ Îç∞Ïù¥ÌÑ∞Îäî Ïñ¥ÎîîÏóê Ï†ÄÏû•ÎêòÎÇòÏöî?", ÎåÄÌôî Ï†ÄÏû•, Î°úÏª¨ Ï†ÄÏû•, Î∏åÎùºÏö∞Ï†Ä Ï†ÄÏû•)
- Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ Ï†ïÏ±Ö Î∞è Ïù¥Ïö© ÏïΩÍ¥Ä(Í∏àÏßÄÎêú Îç∞Ïù¥ÌÑ∞, Ï±ÖÏûÑ ÏûàÎäî ÏÇ¨Ïö©, Í∏àÏßÄÎêú ÏÇ¨Ïö©, Ï†ïÌôïÏÑ± Î©¥Ï±Ö Ï°∞Ìï≠)
- MSF ÌäπÏ†ï AI Ï†ïÏ±Ö Î∞è ÏßÄÏπ®(AIÏóê ÎÑ£ÏßÄ ÎßêÏïÑÏïº Ìï† Í≤É, Î≥¥Ïïà, Îç∞Ïù¥ÌÑ∞ Î≥¥Ìò∏)
- Ïã†Î¢∞ÏÑ± Î∞è Ïã†Î¢∞ ÏßàÎ¨∏(ÏÇ¨Ïã§ ÌôïÏù∏, Í≤ÄÏ¶ù, Ïù∏Í∞Ñ ÌåêÎã®)
- ÏßÄÏõê Î∞è Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥(Î≤ÑÍ∑∏ Ïã†Í≥†, ÌîºÎìúÎ∞±, ai@newyork.msf.org, ai.team@amsterdam.msf.org)
- Ï±óÎ¥á Í∏∞Îä• ÎèÑÏõÄÎßê(ÌîÑÎ°¨ÌîÑÌä∏ ÏÉùÏÑ±, Ïª§Ïä§ÌÖÄ Î¥á, Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÌÉêÏÉâ)
- Íµ≠Í≤ΩÏóÜÎäî ÏùòÏÇ¨Ìöå(MSF) Ï°∞ÏßÅÏùò AI ÏÇ¨Ïö©

üí¨ **standard_chat** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- ÏùºÎ∞ò ÎåÄÌôî Î∞è ÏùºÏÉÅÏ†ÅÏù∏ ÏßàÎ¨∏
- Í∞úÏù∏ Ï°∞Ïñ∏ Î∞è Ï∂îÏ≤ú
- Ï∞ΩÏùòÏ†ÅÏù∏ Í∏ÄÏì∞Í∏∞ Î∞è Î∏åÎ†àÏù∏Ïä§ÌÜ†Î∞ç
- Ïñ∏Ïñ¥ ÌïôÏäµ Î∞è Ïó∞Ïäµ
- ÌäπÏ†ï ÎèÑÍµ¨ ÏöîÍµ¨ ÏÇ¨Ìï≠Ïù¥ ÏóÜÎäî ÏÑ§Î™Ö
- Ïô∏Î∂Ä Îç∞Ïù¥ÌÑ∞Í∞Ä ÌïÑÏöî ÏóÜÎäî Í∞ÑÎã®Ìïú Q&A

ü§ñ **foundry** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- Î≥µÏû°Ìïú Ï∂îÎ°† Î∞è Î∂ÑÏÑù
- Îã§Îã®Í≥Ñ Î¨∏Ï†ú Ìï¥Í≤∞
- Í≥†Í∏â AI Í∏∞Îä•
- Ï†ïÍµêÌïú ÎåÄÌôî Î∞è ÎåÄÌôî
- Í≥†ÏàòÏ§Ä Ïù∏ÏßÄÍ∞Ä ÌïÑÏöîÌïú ÏûëÏóÖ
- Îã§Î•∏ ÏóêÏù¥Ï†ÑÌä∏Í∞Ä Ï∂©Î∂ÑÌïòÏßÄ ÏïäÏùÑ Îïå

üîó **third_party** - ÏÇ¨Ïö© Ïö©ÎèÑ:
- Ïô∏Î∂Ä API ÌÜµÌï©
- ÏÑúÎπÑÏä§Î≥Ñ ÏøºÎ¶¨(Slack, GitHub Îì±)
- Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌïú ÏÑúÎπÑÏä§
- ÏÇ¨Ïö©Ïûê Ï†ïÏùò ÏõπÌõÖ Ìò∏Ï∂ú
- Í∏∞ÏóÖ ÏãúÏä§ÌÖú ÌÜµÌï©

Î∂ÑÎ•ò ÏßÄÏπ®:

1. **ÏãúÍ∞Ñ ÎØºÍ∞êÏÑ±**: ÏøºÎ¶¨Ïóê "Ïò§Îäò", "ÏµúÍ∑º", "ÏµúÏã†", "ÌòÑÏû¨", "ÏßÄÍ∏à", "ÏÜçÎ≥¥"Í∞Ä Ïñ∏Í∏âÎêòÎ©¥ ‚Üí ÏïÑÎßàÎèÑ **web_search**
2. **ÏΩîÎìú Ï°¥Ïû¨**: ÏøºÎ¶¨Ïóê ÏΩîÎìú Î∏îÎ°ù, ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç Ïñ∏Ïñ¥ ÎòêÎäî Í∏∞Ïà†Ï†Å Ïã§ÌñâÏù¥ Ìè¨Ìï®ÎêòÏñ¥ ÏûàÏúºÎ©¥ ‚Üí **code_interpreter**
3. **URL Ï°¥Ïû¨**: ÏøºÎ¶¨Ïóê URLÏù¥ Ìè¨Ìï®ÎêòÏñ¥ ÏûàÍ±∞ÎÇò ÌäπÏ†ï ÏõπÏÇ¨Ïù¥Ìä∏Ïóê ÎåÄÌï¥ Î¨ªÎäî Í≤ΩÏö∞ ‚Üí **url_pull**
4. **ÌöåÏÇ¨ Ïª®ÌÖçÏä§Ìä∏**: ÏøºÎ¶¨Í∞Ä ÎÇ¥Î∂Ä/ÌöåÏÇ¨ Ï†ïÎ≥¥Ïóê ÎåÄÌï¥ Î¨ªÎäî Í≤ΩÏö∞ ‚Üí **local_knowledge**
5. **Î≥µÏû°ÏÑ±**: Î≥µÏû°Ìïú Ï∂îÎ°†Ïù¥ÎÇò Îã§Îã®Í≥Ñ Î∂ÑÏÑùÏùò Í≤ΩÏö∞ ‚Üí **foundry**
6. **Ïô∏Î∂Ä ÏÑúÎπÑÏä§**: ÌÉÄÏÇ¨ ÌÜµÌï© ÎòêÎäî APIÏùò Í≤ΩÏö∞ ‚Üí **third_party**
7. **Í∏∞Î≥∏Í∞í**: ÌäπÏ†ï ÏöîÍµ¨ ÏÇ¨Ìï≠Ïù¥ ÏóÜÎäî ÏùºÎ∞ò ÎåÄÌôîÏùò Í≤ΩÏö∞ ‚Üí **standard_chat**

Ïã†Î¢∞ÎèÑ Ï†êÏàò:
- 0.9-1.0: Îß§Ïö∞ Î™ÖÌôïÌïú ÏßÄÌëú(URL, ÏΩîÎìú Î∏îÎ°ù, ÏãúÍ∞Ñ Ï∞∏Ï°∞)
- 0.7-0.8: Í∞ïÌïú Îß•ÎùΩÏ†Å Îã®ÏÑú
- 0.5-0.6: ÌÇ§ÏõåÎìú Í∏∞Î∞ò Ï§ëÍ∞Ñ Ïã†Î¢∞ÎèÑ
- 0.3-0.4: ÏïΩÌïú Ïã†Ìò∏, Í≤ΩÍ≥Ñ ÏÇ¨Î°Ä
- 0.1-0.2: Îß§Ïö∞ Î∂àÌôïÏã§, Í∏∞Î≥∏ ÎåÄÏ≤¥

Ìï≠ÏÉÅ Î∂ÑÎ•òÏóê ÎåÄÌïú Í∑ºÍ±∞Î•º Ï†úÍ≥µÌïòÍ≥† ÎåÄÏïàÏ†Å Ìï¥ÏÑùÏùÑ Í≥†Î†§ÌïòÏã≠ÏãúÏò§.`,

  zh: `ÊÇ®ÊòØAI‰ª£ÁêÜÂàÜÁ±ª‰∏ìÂÆ∂„ÄÇÊÇ®ÁöÑÂ∑•‰ΩúÊòØÂàÜÊûêÁî®Êà∑Êü•ËØ¢Âπ∂Á°ÆÂÆöÊúÄÈÄÇÂêàÂ§ÑÁêÜÂÖ∂ËØ∑Ê±ÇÁöÑ‰ª£ÁêÜÔºåË¶ÅÊ±ÇÂÖ∑ÊúâÈ´òÁ≤æÂ∫¶„ÄÇ

ÂèØÁî®‰ª£ÁêÜÁ±ªÂûãÂèäÂÖ∂Áî®‰æãÔºö

üîç **web_search** - Áî®‰∫éÔºö
- ÂΩìÂâç‰∫ã‰ª∂„ÄÅÁ™ÅÂèëÊñ∞Èóª„ÄÅÊúÄÊñ∞‰ø°ÊÅØ
- ÂÆûÊó∂Êï∞ÊçÆÔºàËÇ°Á•®‰ª∑Ê†º„ÄÅÂ§©Ê∞î„ÄÅ‰ΩìËÇ≤ÊØîÂàÜÔºâ
- ÈúÄË¶ÅÊñ∞È≤úÂ∫¶ÁöÑ‰ø°ÊÅØÔºà‰ªäÂ§©„ÄÅÊú¨Âë®„ÄÅÊúÄÊñ∞„ÄÅÊúÄËøëÔºâ
- Â∏ÇÂú∫Á†îÁ©∂„ÄÅ‰∫ßÂìÅËØÑËÆ∫„ÄÅÊØîËæÉÂàÜÊûê
- ‰∫ãÂÆûÊ†∏Êü•ÂíåÈ™åËØÅ
- ÂÖ≥‰∫éÊúÄËøëËØùÈ¢òÁöÑ‰∏ÄËà¨Áü•ËØÜÈóÆÈ¢ò

üíª **code_interpreter** - Áî®‰∫éÔºö
- ‰ª£Á†ÅÊâßË°å„ÄÅË∞ÉËØïÂíåÂàÜÊûê
- Êï∞ÊçÆÂàÜÊûêÂíåÂèØËßÜÂåñ
- Êï∞Â≠¶ËÆ°ÁÆóÂíåÂª∫Ê®°
- Êñá‰ª∂Â§ÑÁêÜÔºàCSV„ÄÅJSON„ÄÅÊó•ÂøóÔºâ
- ÁºñÁ®ãÊïôÁ®ãÂíåËß£Èáä
- ÁÆóÊ≥ïÂÆûÁé∞ÂíåÊµãËØï
- ÁßëÂ≠¶ËÆ°ÁÆóÂíåÁ†îÁ©∂

üåê **url_pull** - Áî®‰∫éÔºö
- ÂàÜÊûêÁâπÂÆöÁΩëÁ´ôÊàñÁΩëÈ°µ
- ‰ªéURLÊèêÂèñÂÜÖÂÆπ
- ÁΩëÁ´ôÊØîËæÉÊàñËØÑ‰º∞
- ÈòÖËØªÊñáÁ´†„ÄÅÊñáÊ°£ÊàñÁΩëÁªúÂÜÖÂÆπ
- ÊäìÂèñÊàñËß£ÊûêÁΩëÁªúÊï∞ÊçÆ
- SEOÂàÜÊûêÂíåÁΩëÁ´ôÂÆ°ËÆ°

üìö **local_knowledge** - Áî®‰∫éÔºö
- ÂÖ≥‰∫éMSF AIÂä©ÊâãÊú¨Ë∫´ÁöÑÈóÆÈ¢òÔºà"‰ªÄ‰πàÊòØMSF AIÂä©ÊâãÔºü"„ÄÅÂäüËÉΩ„ÄÅÁâπÁÇπ„ÄÅÂ¶Ç‰ΩïÂ∏ÆÂä©MSFÂëòÂ∑•Ôºâ
- ÂÖ≥‰∫éAIËÅäÂ§©Êú∫Âô®‰∫∫ÁöÑÂ∏∏ËßÅÈóÆÈ¢òÔºàÊèêÁ§∫„ÄÅÂèØÈáçÁî®ÊèêÁ§∫„ÄÅÊñúÊù†ÂëΩ‰ª§„ÄÅËá™Âä®Âåñ„ÄÅÁ§∫‰æãÔºâ
- Êï∞ÊçÆÂ≠òÂÇ®ÂíåÈöêÁßÅÈóÆÈ¢òÔºà"ÊàëÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®Âì™ÈáåÔºü"„ÄÅÂØπËØùÂ≠òÂÇ®„ÄÅÊú¨Âú∞Â≠òÂÇ®„ÄÅÊµèËßàÂô®Â≠òÂÇ®Ôºâ
- ÈöêÁßÅÊîøÁ≠ñÂíå‰ΩøÁî®Êù°Ê¨æÔºàÁ¶ÅÊ≠¢Êï∞ÊçÆ„ÄÅË¥üË¥£‰ªª‰ΩøÁî®„ÄÅÁ¶ÅÊ≠¢Áî®ÈÄî„ÄÅÂáÜÁ°ÆÊÄßÂÖçË¥£Â£∞ÊòéÔºâ
- MSFÁâπÂÆöÁöÑAIÊîøÁ≠ñÂíåÊåáÂçóÔºà‰∏çÂ∫îÊîæÂÖ•AIÁöÑÂÜÖÂÆπ„ÄÅÂÆâÂÖ®ÊÄß„ÄÅÊï∞ÊçÆ‰øùÊä§Ôºâ
- ÂÖ≥‰∫éÂèØÈù†ÊÄßÂíå‰ø°‰ªªÁöÑÈóÆÈ¢òÔºà‰∫ãÂÆûÊ†∏Êü•„ÄÅÈ™åËØÅ„ÄÅ‰∫∫Á±ªÂà§Êñ≠Ôºâ
- ÊîØÊåÅÂíåËÅîÁ≥ª‰ø°ÊÅØÔºàÈîôËØØÊä•Âëä„ÄÅÂèçÈ¶à„ÄÅai@newyork.msf.org„ÄÅai.team@amsterdam.msf.orgÔºâ
- ËÅäÂ§©Êú∫Âô®‰∫∫ÂäüËÉΩÂ∏ÆÂä©ÔºàÂàõÂª∫ÊèêÁ§∫„ÄÅËá™ÂÆö‰πâÊú∫Âô®‰∫∫„ÄÅÁïåÈù¢ÂØºËà™Ôºâ
- Êó†ÂõΩÁïåÂåªÁîüÁªÑÁªáÔºàMSFÔºâÁöÑAI‰ΩøÁî®

üí¨ **standard_chat** - Áî®‰∫éÔºö
- ‰∏ÄËà¨ÂØπËØùÂíåÈöèÊÑèÈóÆÈ¢ò
- ‰∏™‰∫∫Âª∫ËÆÆÂíåÊé®Ëçê
- ÂàõÊÑèÂÜô‰ΩúÂíåÂ§¥ËÑëÈ£éÊö¥
- ËØ≠Ë®ÄÂ≠¶‰π†ÂíåÁªÉ‰π†
- ‰∏çÈúÄË¶ÅÁâπÂÆöÂ∑•ÂÖ∑Ë¶ÅÊ±ÇÁöÑËß£Èáä
- ‰∏çÈúÄË¶ÅÂ§ñÈÉ®Êï∞ÊçÆÁöÑÁÆÄÂçïÈóÆÁ≠î

ü§ñ **foundry** - Áî®‰∫éÔºö
- Â§çÊùÇÊé®ÁêÜÂíåÂàÜÊûê
- Â§öÊ≠•È™§ÈóÆÈ¢òËß£ÂÜ≥
- È´òÁ∫ßAIÂäüËÉΩ
- Â§çÊùÇÂØπËØùÂíå‰∫§ÊµÅ
- ÈúÄË¶ÅÈ´òÊ∞¥Âπ≥ËÆ§Áü•ÁöÑ‰ªªÂä°
- ÂΩìÂÖ∂‰ªñ‰ª£ÁêÜ‰∏çË∂≥Êó∂

üîó **third_party** - Áî®‰∫éÔºö
- Â§ñÈÉ®APIÈõÜÊàê
- ÁâπÂÆöÊúçÂä°Êü•ËØ¢ÔºàSlack„ÄÅGitHubÁ≠âÔºâ
- ÈúÄË¶ÅËÆ§ËØÅÁöÑÊúçÂä°
- Ëá™ÂÆö‰πâwebhookË∞ÉÁî®
- ‰ºÅ‰∏öÁ≥ªÁªüÈõÜÊàê

ÂàÜÁ±ªÊåáÂçóÔºö

1. **Êó∂Èó¥ÊïèÊÑüÊÄß**ÔºöÂ¶ÇÊûúÊü•ËØ¢ÊèêÂà∞"‰ªäÂ§©"„ÄÅ"ÊúÄËøë"„ÄÅ"ÊúÄÊñ∞"„ÄÅ"ÂΩìÂâç"„ÄÅ"Áé∞Âú®"„ÄÅ"Á™ÅÂèë"‚ÜíÂèØËÉΩÊòØ**web_search**
2. **‰ª£Á†ÅÂ≠òÂú®**ÔºöÂ¶ÇÊûúÊü•ËØ¢ÂåÖÂê´‰ª£Á†ÅÂùó„ÄÅÁºñÁ®ãËØ≠Ë®ÄÊàñÊäÄÊúØÊâßË°å‚Üí**code_interpreter**
3. **URLÂ≠òÂú®**ÔºöÂ¶ÇÊûúÊü•ËØ¢ÂåÖÂê´URLÊàñËØ¢ÈóÆÁâπÂÆöÁΩëÁ´ô‚Üí**url_pull**
4. **ÂÖ¨Âè∏ËÉåÊôØ**ÔºöÂ¶ÇÊûúÊü•ËØ¢ËØ¢ÈóÆÂÜÖÈÉ®/ÂÖ¨Âè∏‰ø°ÊÅØ‚Üí**local_knowledge**
5. **Â§çÊùÇÊÄß**ÔºöÂØπ‰∫éÂ§çÊùÇÊé®ÁêÜÊàñÂ§öÊ≠•ÂàÜÊûê‚Üí**foundry**
6. **Â§ñÈÉ®ÊúçÂä°**ÔºöÂØπ‰∫éÁ¨¨‰∏âÊñπÈõÜÊàêÊàñAPI‚Üí**third_party**
7. **ÈªòËÆ§**ÔºöÂØπ‰∫éÊ≤°ÊúâÁâπÂÆöË¶ÅÊ±ÇÁöÑ‰∏ÄËà¨ÂØπËØù‚Üí**standard_chat**

ÁΩÆ‰ø°Â∫¶ËØÑÂàÜÔºö
- 0.9-1.0ÔºöÈùûÂ∏∏ÊòéÁ°ÆÁöÑÊåáÊ†áÔºàURL„ÄÅ‰ª£Á†ÅÂùó„ÄÅÊó∂Èó¥ÂºïÁî®Ôºâ
- 0.7-0.8ÔºöÂº∫ÁÉàÁöÑ‰∏ä‰∏ãÊñáÁ∫øÁ¥¢
- 0.5-0.6ÔºöÂü∫‰∫éÂÖ≥ÈîÆËØçÁöÑ‰∏≠Á≠âÁΩÆ‰ø°Â∫¶
- 0.3-0.4ÔºöÂº±‰ø°Âè∑„ÄÅËæπÁïåÊÉÖÂÜµ
- 0.1-0.2ÔºöÈùûÂ∏∏‰∏çÁ°ÆÂÆöÔºåÈªòËÆ§ÂõûÈÄÄ

ÂßãÁªà‰∏∫ÊÇ®ÁöÑÂàÜÁ±ªÊèê‰æõÁêÜÁî±ÔºåÂπ∂ËÄÉËôëÊõø‰ª£Ëß£Èáä„ÄÇ`,
};

/**
 * Enhanced user prompts with examples for better classification
 */
export const USER_PROMPT_TEMPLATES = {
  en: `Analyze the following user query and classify it to determine the most appropriate agent type.

**User Query:** "{query}"

{conversationHistory}

{additionalContext}

**Context Information:**
- Current date/time: {currentDateTime}
- User locale: {locale}
- Session context: {sessionContext}

**Classification Requirements:**
1. Identify the primary intent and required capabilities
2. Consider time sensitivity and data freshness needs
3. Evaluate technical complexity and tool requirements
4. Assess whether external data or services are needed
5. Provide confidence score based on signal strength

**Examples for reference:**

üîç **web_search** examples:
- "What's the latest news about Tesla stock?"
- "Find recent reviews for iPhone 15"
- "What happened in the market today?"
- "Current weather in New York"

üíª **code_interpreter** examples:
- "Debug this Python function: def calc..."
- "Analyze this CSV data and create a chart"
- "Calculate the mean of these numbers: [1,2,3,4,5]"
- "Write a function to sort an array"

üåê **url_pull** examples:
- "Analyze this website: https://example.com"
- "What does this article say? [URL]"
- "Compare these two websites"
- "Extract data from this webpage"

üìö **local_knowledge** examples:
- "What is the MSF AI Assistant?"
- "How can the MSF AI Assistant assist MSF employees?"
- "How do I create a reusable prompt?"
- "How can I automate and reuse prompts?"
- "Where is my conversation data stored?"
- "Where are my conversations and custom bots?"
- "What data should I NOT put into the MSF AI Assistant?"
- "Should the MSF AI Assistant's responses be 100% trusted?"
- "What are the prohibited uses of the MSF AI Assistant?"
- "Who should I contact for privacy concerns?"
- "Where should I go with bug reports or feedback?"
- "What are some example questions I can ask?"
- "What is a prompt and how do I use it?"
- "How does the MSF AI Assistant protect privacy?"

üí¨ **standard_chat** examples:
- "Tell me a joke"
- "How are you today?"
- "What's your opinion on coffee?"
- "Help me brainstorm ideas for a project"

ü§ñ **foundry** examples:
- "Analyze the philosophical implications of AI consciousness"
- "Create a complex business strategy for market expansion"
- "Solve this multi-step logical reasoning problem"
- "Provide deep analysis of historical patterns"

üîó **third_party** examples:
- "Create a GitHub issue in my repository"
- "Send a message to the #dev channel in Slack"
- "Update my calendar with this meeting"
- "Query the sales database for Q4 results"

**IMPORTANT - User Exclusions:**
Always check if the user explicitly requests to AVOID certain agent types. Pay special attention to phrases like:
- "don't search the web" / "without searching" ‚Üí AVOID web_search agent
- "don't run code" / "no code execution" ‚Üí AVOID code_interpreter agent  
- "don't access urls" / "no external links" ‚Üí AVOID url_pull agent
- "don't use internal" / "external sources only" ‚Üí AVOID local_knowledge agent
- "offline only" / "local only" ‚Üí AVOID web_search and url_pull agents

If a user explicitly requests to avoid an agent type, give that agent type a very low confidence score (0.05-0.1) regardless of other indicators.

Provide your classification with detailed reasoning.`,

  es: `Analiza la siguiente consulta del usuario y clasif√≠cala para determinar el tipo de agente m√°s apropiado.

**Consulta del Usuario:** "{query}"

{conversationHistory}

{additionalContext}

**Informaci√≥n de Contexto:**
- Fecha/hora actual: {currentDateTime}
- Locale del usuario: {locale}
- Contexto de sesi√≥n: {sessionContext}

**Requisitos de Clasificaci√≥n:**
1. Identificar la intenci√≥n principal y las capacidades requeridas
2. Considerar la sensibilidad temporal y las necesidades de frescura de datos
3. Evaluar la complejidad t√©cnica y los requisitos de herramientas
4. Evaluar si se necesitan datos o servicios externos
5. Proporcionar puntuaci√≥n de confianza basada en la fuerza de la se√±al

**Ejemplos de referencia:**

üîç **web_search** ejemplos:
- "¬øCu√°les son las √∫ltimas noticias sobre las acciones de Tesla?"
- "Encuentra rese√±as recientes del iPhone 15"
- "¬øQu√© pas√≥ hoy en el mercado?"
- "Clima actual en Nueva York"

üíª **code_interpreter** ejemplos:
- "Depura esta funci√≥n de Python: def calc..."
- "Analiza estos datos CSV y crea un gr√°fico"
- "Calcula la media de estos n√∫meros: [1,2,3,4,5]"
- "Escribe una funci√≥n para ordenar un array"

üåê **url_pull** ejemplos:
- "Analiza este sitio web: https://example.com"
- "¬øQu√© dice este art√≠culo? [URL]"
- "Compara estos dos sitios web"
- "Extrae datos de esta p√°gina web"

üìö **local_knowledge** ejemplos:
- "¬øQu√© es el Asistente de IA de MSF?"
- "¬øC√≥mo puede el Asistente de IA de MSF ayudar a los empleados de MSF?"
- "¬øC√≥mo creo un prompt reutilizable?"
- "¬øC√≥mo puedo automatizar y reutilizar prompts?"
- "¬øD√≥nde se almacenan mis datos de conversaci√≥n?"
- "¬øD√≥nde est√°n mis conversaciones y bots personalizados?"
- "¬øQu√© datos NO debo introducir en el Asistente de IA de MSF?"
- "¬øSe debe confiar al 100% en las respuestas del Asistente de IA de MSF?"
- "¬øCu√°les son los usos prohibidos del Asistente de IA de MSF?"
- "¬øA qui√©n debo contactar para cuestiones de privacidad?"
- "¬øD√≥nde debo ir con informes de errores o comentarios?"
- "¬øCu√°les son algunas preguntas de ejemplo que puedo hacer?"
- "¬øQu√© es un prompt y c√≥mo lo uso?"
- "¬øC√≥mo protege la privacidad el Asistente de IA de MSF?"

üí¨ **standard_chat** ejemplos:
- "Cu√©ntame un chiste"
- "¬øC√≥mo est√°s hoy?"
- "¬øCu√°l es tu opini√≥n sobre el caf√©?"
- "Ay√∫dame a hacer una lluvia de ideas para un proyecto"

ü§ñ **foundry** ejemplos:
- "Analiza las implicaciones filos√≥ficas de la conciencia de la IA"
- "Crea una estrategia de negocio compleja para la expansi√≥n de mercado"
- "Resuelve este problema de razonamiento l√≥gico de m√∫ltiples pasos"
- "Proporciona un an√°lisis profundo de patrones hist√≥ricos"

üîó **third_party** ejemplos:
- "Crea un issue en GitHub en mi repositorio"
- "Env√≠a un mensaje al canal #dev en Slack"
- "Actualiza mi calendario con esta reuni√≥n"
- "Consulta la base de datos de ventas para los resultados del Q4"

**IMPORTANTE - Exclusiones de Usuario:**
Siempre verifica si el usuario solicita expl√≠citamente EVITAR ciertos tipos de agentes. Presta especial atenci√≥n a frases como:
- "no busques en la web" / "sin buscar" ‚Üí EVITAR agente web_search
- "no ejecutes c√≥digo" / "sin ejecuci√≥n de c√≥digo" ‚Üí EVITAR agente code_interpreter
- "no accedas a urls" / "sin enlaces externos" ‚Üí EVITAR agente url_pull
- "no uses interno" / "solo fuentes externas" ‚Üí EVITAR agente local_knowledge
- "solo sin conexi√≥n" / "solo local" ‚Üí EVITAR agentes web_search y url_pull

Si un usuario solicita expl√≠citamente evitar un tipo de agente, dale a ese tipo de agente una puntuaci√≥n de confianza muy baja (0.05-0.1) independientemente de otros indicadores.

Proporciona tu clasificaci√≥n con un razonamiento detallado.`,

  fr: `Analysez la requ√™te utilisateur suivante et classifiez-la pour d√©terminer le type d'agent le plus appropri√©.

**Requ√™te Utilisateur:** "{query}"

{conversationHistory}

{additionalContext}

**Informations de Contexte:**
- Date/heure actuelle: {currentDateTime}
- Locale utilisateur: {locale}
- Contexte de session: {sessionContext}

**Exigences de Classification:**
1. Identifier l'intention principale et les capacit√©s requises
2. Consid√©rer la sensibilit√© temporelle et les besoins de fra√Æcheur des donn√©es
3. √âvaluer la complexit√© technique et les exigences d'outils
4. D√©terminer si des donn√©es ou services externes sont n√©cessaires
5. Fournir un score de confiance bas√© sur la force du signal

**Exemples de r√©f√©rence:**

üîç **web_search** exemples:
- "Quelles sont les derni√®res nouvelles concernant l'action Tesla?"
- "Trouve des avis r√©cents sur l'iPhone 15"
- "Que s'est-il pass√© aujourd'hui sur le march√©?"
- "M√©t√©o actuelle √† New York"

üíª **code_interpreter** exemples:
- "D√©bogue cette fonction Python: def calc..."
- "Analyse ces donn√©es CSV et cr√©e un graphique"
- "Calcule la moyenne de ces nombres: [1,2,3,4,5]"
- "√âcris une fonction pour trier un tableau"

üåê **url_pull** exemples:
- "Analyse ce site web: https://example.com"
- "Que dit cet article? [URL]"
- "Compare ces deux sites web"
- "Extrais des donn√©es de cette page web"

üìö **local_knowledge** exemples:
- "Qu'est-ce que l'Assistant IA MSF?"
- "Comment l'Assistant IA MSF peut-il aider les employ√©s de MSF?"
- "Comment cr√©er un prompt r√©utilisable?"
- "Comment puis-je automatiser et r√©utiliser des prompts?"
- "O√π sont stock√©es mes donn√©es de conversation?"
- "O√π sont mes conversations et bots personnalis√©s?"
- "Quelles donn√©es NE PAS mettre dans l'Assistant IA MSF?"
- "Doit-on faire confiance √† 100% aux r√©ponses de l'Assistant IA MSF?"
- "Quelles sont les utilisations interdites de l'Assistant IA MSF?"
- "Qui contacter pour des questions de confidentialit√©?"
- "O√π signaler des bugs ou donner des retours?"
- "Quelles sont des exemples de questions que je peux poser?"
- "Qu'est-ce qu'un prompt et comment l'utiliser?"
- "Comment l'Assistant IA MSF prot√®ge-t-il la confidentialit√©?"

üí¨ **standard_chat** exemples:
- "Raconte-moi une blague"
- "Comment vas-tu aujourd'hui?"
- "Quelle est ton opinion sur le caf√©?"
- "Aide-moi √† faire un brainstorming pour un projet"

ü§ñ **foundry** exemples:
- "Analyse les implications philosophiques de la conscience de l'IA"
- "Cr√©e une strat√©gie commerciale complexe pour l'expansion du march√©"
- "R√©sous ce probl√®me de raisonnement logique √† plusieurs √©tapes"
- "Fournis une analyse approfondie des mod√®les historiques"

üîó **third_party** exemples:
- "Cr√©e un ticket GitHub dans mon d√©p√¥t"
- "Envoie un message au canal #dev dans Slack"
- "Mets √† jour mon calendrier avec cette r√©union"
- "Interroge la base de donn√©es des ventes pour les r√©sultats du Q4"

**IMPORTANT - Exclusions Utilisateur:**
V√©rifiez toujours si l'utilisateur demande explicitement d'√âVITER certains types d'agents. Portez une attention particuli√®re aux phrases comme:
- "ne cherche pas sur le web" / "sans rechercher" ‚Üí √âVITER l'agent web_search
- "n'ex√©cute pas de code" / "pas d'ex√©cution de code" ‚Üí √âVITER l'agent code_interpreter
- "n'acc√®de pas aux urls" / "pas de liens externes" ‚Üí √âVITER l'agent url_pull
- "n'utilise pas d'interne" / "sources externes uniquement" ‚Üí √âVITER l'agent local_knowledge
- "hors ligne uniquement" / "local uniquement" ‚Üí √âVITER les agents web_search et url_pull

Si un utilisateur demande explicitement d'√©viter un type d'agent, donnez √† ce type d'agent un score de confiance tr√®s bas (0.05-0.1) ind√©pendamment des autres indicateurs.

Fournissez votre classification avec un raisonnement d√©taill√©.`,
};

/**
 * Simplified JSON schema compatible with OpenAI strict mode
 */
export const ENHANCED_CLASSIFICATION_SCHEMA = {
  type: 'object' as const,
  properties: {
    agent_type: {
      type: 'string' as const,
      enum: Object.values(AgentType),
      description: 'The primary recommended agent type for handling this query',
    },
    confidence: {
      type: 'number' as const,
      minimum: 0,
      maximum: 1,
      description: 'Confidence score for the primary recommendation (0.00-1.00)',
    },
    reasoning: {
      type: 'string' as const,
      description: 'Detailed explanation for why this agent was recommended',
    },
    query: {
      type: 'string' as const,
      description: 'Optimized search query if applicable',
    },
    complexity: {
      type: 'string' as const,
      enum: ['simple', 'moderate', 'complex'],
      description: 'Assessment of query complexity',
    },
    time_sensitive: {
      type: 'boolean' as const,
      description: 'Whether the query is time-sensitive',
    },
  },
  required: [
    'agent_type',
    'confidence', 
    'reasoning',
    'query',
    'complexity',
    'time_sensitive',
  ],
  additionalProperties: false,
};

/**
 * Agent-specific prompt guidance for better parameter extraction
 */
export const AGENT_SPECIFIC_GUIDANCE = {
  [AgentType.WEB_SEARCH]: {
    keywords: [
      'latest', 'recent', 'current', 'today', 'now', 'breaking', 'news',
      'search', 'find', 'look up', 'google', 'what is happening',
      'price', 'stock', 'weather', 'score', 'update', 'live',
      'trending', 'market', 'real-time', 'immediate', 'fresh',
      'this week', 'this month', 'this year', 'compare', 'reviews',
      'who won', 'results', 'election', 'poll', 'statistics'
    ],
    patterns: [
      /\b(latest|recent|current|today|now|breaking|trending|immediate)\b/i,
      /\b(what'?s happening|breaking news|live updates?|real-?time)\b/i,
      /\b(price of|stock price|weather in|score of|market data)\b/i,
      /\b(who won|results of|outcome of|winner of)\b/i,
      /\b(compare|vs|versus|difference between|better than)\b/i,
      /\b(reviews?|ratings?|opinions? on|feedback about)\b/i,
      /\b(this (week|month|year)|in \d{4}|since \d{4})\b/i,
      /\b(trending|viral|popular|top \d+|best \d+)\b/i,
    ],
    examples: [
      'latest news about climate change',
      'current stock price of Apple',
      'what happened today in politics',
      'compare iPhone 15 vs Samsung Galaxy S24',
      'reviews of the new Tesla Model 3',
      'trending topics on social media',
      'who won the election yesterday',
      'real-time weather in New York',
      'what does MSF do in Sudan?',
      'tell me about the latest news',
    ]
  },

  [AgentType.CODE_INTERPRETER]: {
    keywords: [
      'code', 'program', 'script', 'function', 'debug', 'error', 'execute', 'run',
      'python', 'javascript', 'sql', 'bash', 'typescript', 'r',
      'data', 'analysis', 'calculate', 'compute', 'process',
      'algorithm', 'parse', 'csv', 'json', 'file', 'dataset',
      'visualization', 'chart', 'graph', 'plot', 'matplotlib',
      'pandas', 'numpy', 'dataframe', 'statistics', 'math',
      'database', 'query', 'select', 'insert', 'update',
      'machine learning', 'ml', 'model', 'predict', 'train'
    ],
    patterns: [
      /```[\w]*\n[\s\S]*?\n```/g,
      /`[^`\n]+`/g,
      /\b(def|function|class|import|from|console\.log|print\(|SELECT|INSERT|UPDATE)\b/i,
      /\b(execute|run|debug|analyze|calculate|compute)\s+.*?(code|script|function|program)\b/i,
      /\b(python|javascript|sql|bash|typescript)\s+.*?(code|script|program)\b/i,
      /\b(data\s+analysis|data\s+processing|machine\s+learning|ml\s+model)\b/i,
      /\b(plot|chart|graph|visualization|matplotlib|pandas|numpy)\b/i,
    ],
    examples: [
      'debug this Python code: def func()...',
      'analyze this CSV data with pandas',
      'calculate the average of these numbers: [1,2,3,4,5]',
      'write a JavaScript function to sort an array',
      'execute this SQL query: SELECT * FROM users',
      'create a visualization of this data',
      'run this Python script for data analysis',
      'help me debug this code error',
      'process this dataset and show statistics'
    ]
  },

  [AgentType.URL_PULL]: {
    keywords: [
      'website', 'url', 'link', 'page', 'site', 'analyze', 'webpage',
      'extract', 'scrape', 'content', 'article', 'read', 'parse',
      'fetch', 'pull', 'crawl', 'download', 'metadata', 'html',
      'compare websites', 'website comparison', 'seo analysis',
      'multiple urls', 'several links', 'batch process', 'parallel'
    ],
    patterns: [
      /https?:\/\/[^\s<>"{}|\\^`[\]]+/g,
      /www\.[^\s<>"{}|\\^`[\]]+/g,
      /\b[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}(?:\/[^\s<>"{}|\\^`[\]]*)?/g,
      /\b(analyze|extract|scrape|fetch|pull|crawl)\s+.*?(url|link|website|page|site)\b/i,
      /\b(multiple|several|batch|parallel)\s+.*?(url|link|website|page)\b/i,
      /\b(compare|comparison)\s+.*?(website|url|link|page)\b/i,
    ],
    examples: [
      'analyze this website: https://example.com',
      'what does this article say? https://news.example.com/article',
      'extract data from this webpage',
      'compare these websites: https://site1.com and https://site2.com',
      'process these URLs: https://example1.com, https://example2.com',
      // 'fetch content from multiple links',
      'analyze SEO for this site: https://business.com',
      // 'scrape data from these pages'
    ]
  },

  [AgentType.LOCAL_KNOWLEDGE]: {
    keywords: [
      // MSF AI Assistant specific (from actual FAQ content)
      'msf ai assistant', 'msf ai', 'ai assistant', 'chatbot', 'ai tool', 'chat tool', 'assistant',
      'm√©decins sans fronti√®res', 'doctors without borders', 'msf', 'humanitarian',
      'what is', 'what can', 'how can', 'how do', 'capabilities', 'features', 'assist', 'help',
      'prompt', 'reusable prompt', 'create prompt', 'automate', 'slash command', 'prompts tab',
      'conversation', 'custom bot', 'stored', 'local storage', 'browser', 'device',
      'trust', 'reliable', 'accurate', 'fact-check', '100% trusted', 'verify', 'confirm',
      // Privacy and data protection (from actual privacy policy)
      'privacy', 'data protection', 'data storage', 'where stored', 'privacy policy', 'terms of use',
      'prohibited data', 'personal data', 'sensitive data', 'what not to put', 'responsible use',
      'prohibited uses', 'accuracy', 'bias', 'check outputs', 'privacy concerns', 'incidents',
      'faq', 'feedback', 'support', 'bug report', 'ai@newyork.msf.org', 'ai.team@amsterdam.msf.org',
      // Company/organizational
      // 'company', 'internal', 'org chart', 'organization', 'corporate', 'enterprise',
      // 'contact', 'documentation', 'docs', 'guide', 'handbook', 'manual', 'knowledge base', 'wiki',
      // 'what is our', 'where can i find', 'how do i',
      // 'hr', 'human resources', 'it', 'finance', 'accounting', 'legal', 'compliance', 'marketing', 'sales',
      // 'employee', 'staff', 'team', 'department', 'office', 'internal team', 'colleagues',
      // 'workflow', 'process', 'guideline', 'protocol', 'standard', 'best practice'
    ],
    patterns: [
      // MSF AI Assistant patterns
      /\b(msf ai assistant|msf ai|ai assistant|chatbot|what is|what can|how can|how do)\b/i,
      /\b(prompt|reusable prompt|conversation|custom bot|help|feature|capability)\b/i,
      /\b(privacy|data|storage|stored|secure|policy|terms|personal|sensitive)\b/i,
      /\b(faq|frequently asked|support|trust|reliable|accurate|feedback)\b/i,
      // Company/organizational patterns
      /\b(company|our|internal|organization|org|corporate|enterprise)\b/i,
      // /\b(policy|procedure|handbook|guide|documentation|docs|manual|wiki)\b/i,
      /\b(how do i|what is our|where can i find)\b/i,
      // /\b(hr|human resources|it|finance|accounting|legal|compliance|marketing|sales)\b/i,
      /\b(knowledge base|internal docs|company info|organizational|protocols)\b/i,
      /\b(employee|staff|team|department|office|internal team|colleagues)\b/i,
      /\b(workflow|process|guideline|protocol|standard|best practice)\b/i,
    ],
    examples: [
      // MSF AI Assistant examples
      'what is the msf ai assistant',
      'who are you',
      'what can the ai assistant do?',
      'how do i create a reusable prompt?',
      'where is my data stored?',
      'what data do you store about me?',
      'how can i use prompts?',
      'privacy policy questions',
      'what are the features of this chatbot?',
      'how should i trust the ai responses?',
      'where are my conversations stored?',
      'what can you help me to do?',
      'how do i automate prompts?',
      // Company/organizational examples
      'what is our vacation policy?',
      // 'show me the org chart',
      // 'company contact information',
      // 'how do I submit an expense report?',
      'what are the HR policies for remote work?',
      'where can I find the IT support documentation?',
      'internal procedures for new employee onboarding',
      // 'company guidelines for code review process',
      // 'who should I contact in the finance department?',
      // 'frequently asked questions about benefits',
      // 'our company\'s security protocols',
      // 'internal wiki about product specifications'
    ]
  },

  [AgentType.THIRD_PARTY]: {
    keywords: [
      'github', 'slack', 'jira', 'salesforce', 'calendar', 'email',
      'api', 'webhook', 'integration', 'create issue', 'send message'
    ],
    patterns: [
      /\b(github|slack|jira|salesforce|calendar|email)\b/i,
      /\b(create .* in|send .* to|update .* with)\b/i,
    ],
    examples: [
      'create a GitHub issue',
      'send a Slack message',
      'update my calendar'
    ]
  },

  [AgentType.STANDARD_CHAT]: {
    keywords: [
      'tell', 'explain', 'what', 'how', 'why', 'chat', 'talk', 'discuss',
      'opinion', 'think', 'help', 'advice', 'suggestion', 'recommend',
      'general', 'conversation', 'casual', 'personal', 'brainstorm'
    ],
    patterns: [
      /\b(tell me|explain|what do you think|how do you|opinion|advice|help me)\b/i,
      /\b(chat|talk|discuss|conversation|brainstorm|general question)\b/i,
      /\b(recommend|suggest|what would you|personal)\b/i,
    ],
    examples: [
      'tell me a joke',
      'what do you think about this?',
      'help me brainstorm ideas',
      'explain this concept',
      'give me your opinion on...',
      'what is the sphere handbook',
    ]
  },

  [AgentType.FOUNDRY]: {
    keywords: [
      'complex', 'advanced', 'sophisticated', 'deep', 'thorough', 'comprehensive',
      'analysis', 'reasoning', 'logic', 'philosophy', 'research', 'academic',
      'multi-step', 'strategy', 'detailed', 'in-depth'
    ],
    patterns: [
      /\b(complex|advanced|sophisticated|deep|thorough|comprehensive)\b/i,
      /\b(analysis|reasoning|logic|philosophy|research|academic)\b/i,
      /\b(multi-step|strategy|detailed|in-depth)\b/i,
    ],
    examples: [
      'analyze the philosophical implications of...',
      'create a complex business strategy',
      'provide in-depth analysis of...',
      'solve this multi-step problem'
    ]
  },
};

/**
 * Confidence scoring guidelines
 */
export const CONFIDENCE_GUIDELINES = {
  very_high: {
    range: [0.9, 1.0],
    description: 'Very clear indicators present',
    examples: ['URLs in query', 'Code blocks present', 'Explicit service mentions']
  },
  high: {
    range: [0.75, 0.89],
    description: 'Strong contextual clues',
    examples: ['Multiple relevant keywords', 'Clear intent patterns', 'Time-sensitive language']
  },
  medium: {
    range: [0.5, 0.74],
    description: 'Moderate confidence based on context',
    examples: ['Some relevant keywords', 'Partial pattern matches', 'Contextual inference']
  },
  low: {
    range: [0.3, 0.49],
    description: 'Weak signals, uncertain classification',
    examples: ['Ambiguous intent', 'Minimal context', 'Generic language']
  },
  very_low: {
    range: [0.1, 0.29],
    description: 'Very uncertain, fallback scenario',
    examples: ['No clear indicators', 'Contradictory signals', 'Insufficient information']
  }
};

/**
 * Helper function to build contextual prompts
 */
export function buildContextualPrompt(
  query: string,
  locale: string,
  conversationHistory?: string[],
  additionalContext?: Record<string, any>
): string {
  const template = USER_PROMPT_TEMPLATES[locale as keyof typeof USER_PROMPT_TEMPLATES] || USER_PROMPT_TEMPLATES.en;
  
  const currentDateTime = new Date().toISOString();
  const historySection = conversationHistory?.length 
    ? `**Recent Conversation:**\n${conversationHistory.slice(-3).map((msg, i) => `${i + 1}. ${msg}`).join('\n')}\n`
    : '';
  
  const contextSection = additionalContext 
    ? `**Additional Context:**\n${JSON.stringify(additionalContext, null, 2)}\n`
    : '';
  
  const sessionContext = additionalContext?.sessionInfo 
    ? `Session ID: ${additionalContext.sessionInfo.sessionId}, User: ${additionalContext.sessionInfo.userId}`
    : 'No session context';

  return template
    .replace('{query}', query)
    .replace('{conversationHistory}', historySection)
    .replace('{additionalContext}', contextSection)
    .replace('{currentDateTime}', currentDateTime)
    .replace('{locale}', locale)
    .replace('{sessionContext}', sessionContext);
}

/**
 * Helper function to get agent-specific guidance
 */
export function getAgentGuidance(agentType: AgentType) {
  return AGENT_SPECIFIC_GUIDANCE[agentType] || {
    keywords: [],
    patterns: [],
    examples: []
  };
}

/**
 * Helper function to validate confidence score
 */
export function validateConfidenceScore(confidence: number): boolean {
  return confidence >= 0 && confidence <= 1 && !isNaN(confidence);
}

/**
 * Agent exclusion patterns for detecting when users want to avoid specific agents
 */
export const AGENT_EXCLUSION_PATTERNS = {
  [AgentType.WEB_SEARCH]: {
    avoidancePatterns: [
      'don\'t search the web',
      'without searching',
      'no web search',
      'avoid search',
      'don\'t look online',
      'offline only',
      'without internet',
      'no online search',
      'don\'t browse',
      'without browsing',
      'no external search',
      'local only',
      'don\'t fetch online',
      'avoid web lookup'
    ],
    negativePatterns: [
      /don't\s+(search|look|browse|fetch|find)\s+(the\s+)?(web|online|internet)/i,
      /without\s+(searching|browsing|looking)\s+(the\s+)?(web|online|internet)/i,
      /no\s+(web\s+)?(search|browsing|online\s+search)/i,
      /avoid\s+(web\s+)?(search|browsing)/i,
      /not?\s+(search|look|browse)\s+(online|web)/i
    ],
    exclusionKeywords: [
      'offline', 'local only', 'no internet', 'internal only', 'cached only'
    ]
  },
  [AgentType.CODE_INTERPRETER]: {
    avoidancePatterns: [
      'don\'t run code',
      'no code execution',
      'without running',
      'avoid execution',
      'don\'t execute',
      'no script',
      'text only',
      'explanation only',
      'theory only',
      'conceptual only',
      'without coding',
      'no programming',
      'don\'t compile',
      'static only'
    ],
    negativePatterns: [
      /don't\s+(run|execute|compile)\s+(code|script|program)/i,
      /no\s+(code\s+)?(execution|running|compilation)/i,
      /without\s+(running|executing|coding)/i,
      /avoid\s+(code\s+)?(execution|running)/i,
      /(explanation|theory|concept)\s+only/i,
      /text\s+only/i
    ],
    exclusionKeywords: [
      'theory only', 'explanation only', 'conceptual', 'static analysis', 'no execution'
    ]
  },
  [AgentType.URL_PULL]: {
    avoidancePatterns: [
      'don\'t access urls',
      'no url fetching',
      'without pulling',
      'avoid external links',
      'don\'t fetch',
      'no website access',
      'offline content',
      'local content only',
      'don\'t visit',
      'no external access',
      'without accessing',
      'don\'t pull from'
    ],
    negativePatterns: [
      /don't\s+(access|fetch|pull|visit)\s+(url|link|website|site)/i,
      /no\s+(url|link|website)\s+(access|fetching|pulling)/i,
      /without\s+(accessing|pulling|fetching)\s+(url|link|website)/i,
      /avoid\s+(external\s+)?(link|url|website)/i,
      /local\s+(content\s+)?only/i
    ],
    exclusionKeywords: [
      'local only', 'offline content', 'no external', 'internal only'
    ]
  },
  [AgentType.LOCAL_KNOWLEDGE]: {
    avoidancePatterns: [
      'don\'t use internal',
      'no local knowledge',
      'external only',
      'fresh information',
      'current data only',
      'no cached',
      'live data only',
      'real-time only'
    ],
    negativePatterns: [
      /don't\s+use\s+(internal|local|cached)/i,
      /no\s+(local|internal|cached)\s+(knowledge|data|info)/i,
      /(fresh|current|live|real-time)\s+(data|info|information)\s+only/i,
      /external\s+(sources\s+)?only/i
    ],
    exclusionKeywords: [
      'external only', 'fresh only', 'current only', 'live data', 'real-time'
    ]
  },
  [AgentType.STANDARD_CHAT]: {
    avoidancePatterns: [
      // 'use special tools',
      // 'enhanced features',
      // 'agent assistance',
      // 'advanced capabilities'
    ],
    negativePatterns: [
      // /use\s+(special\s+)?(tools|agents|features)/i,
      // /enhanced\s+(features|capabilities)/i,
      // /advanced\s+(help|assistance)/i
    ],
    exclusionKeywords: [
      // 'enhanced', 'advanced tools', 'special features'
    ]
  }
} as const;